#!/bin/bash
set -euxo pipefail

# Check AgentGateway is running
if ! kubectl get pods -n agentgateway-system | grep -q Running; then
  fail-message "Agentgateway pods don't seem to be running. Check: kubectl get pods -n agentgateway-system"
  exit 1
fi

# Check agentgateway-proxy gateway exists
if ! kubectl -n agentgateway-system get gateway agentgateway-proxy &>/dev/null; then
  fail-message "The agentgateway-proxy Gateway was not found. The track setup may not have completed correctly."
  exit 1
fi

echo "Great job! You understand why MCP + Agentgateway matters. Let's build it!"
