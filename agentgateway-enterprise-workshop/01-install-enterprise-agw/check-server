#!/bin/bash
set -euxo pipefail

if ! kubectl get gateway agentgateway -n agentgateway-system &>/dev/null; then
  fail-message "Gateway 'agentgateway' not found in agentgateway-system namespace."
  exit 1
fi

if ! grep -q "GATEWAY_IP" /root/.bashrc; then
  fail-message "Gateway IP not saved to ~/.bashrc. Run: echo \"export GATEWAY_IP=\$GATEWAY_IP\" >> /root/.bashrc"
  exit 1
fi

echo "Challenge 1 complete!"
