#!/bin/bash
set -euxo pipefail

if ! kubectl get deployment mock-gpt-4o -n agentgateway-system &>/dev/null; then
  fail-message "Mock server deployment 'mock-gpt-4o' not found."
  exit 1
fi

if ! kubectl get agentgatewaybackend failover-backend -n agentgateway-system &>/dev/null; then
  fail-message "AgentgatewayBackend 'failover-backend' not found."
  exit 1
fi

if ! kubectl get httproute failover-route -n agentgateway-system &>/dev/null; then
  fail-message "HTTPRoute 'failover-route' not found."
  exit 1
fi

echo "Challenge 8 complete!"
