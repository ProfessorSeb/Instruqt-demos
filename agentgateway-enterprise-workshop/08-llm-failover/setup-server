#!/bin/bash
set -euxo pipefail

# Clean up MCP resources from previous challenge
kubectl delete enterpriseagentgatewaypolicy -n agentgateway-system mcp-jwt-auth 2>/dev/null || true
kubectl delete enterpriseagentgatewaypolicy -n agentgateway-system mcp-rbac 2>/dev/null || true
kubectl delete deployment -n agentgateway-system mcp-website-fetcher 2>/dev/null || true
kubectl delete service -n agentgateway-system mcp-website-fetcher 2>/dev/null || true
kubectl delete agentgatewaybackend -n agentgateway-system mcp-backend 2>/dev/null || true
kubectl delete httproute -n agentgateway-system mcp 2>/dev/null || true

echo "Challenge 8 setup complete"
